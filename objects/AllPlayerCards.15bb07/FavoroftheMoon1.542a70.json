{
  "AltLookAngle": {
    "x": 0,
    "y": 0,
    "z": 0
  },
  "Autoraise": true,
  "CardID": 449610,
  "ColorDiffuse": {
    "b": 0.713235259,
    "g": 0.713235259,
    "r": 0.713235259
  },
  "CustomDeck": {
    "4496": {
      "BackIsHidden": true,
      "BackURL": "https://i.imgur.com/EcbhVuh.jpg/",
      "FaceURL": "http://cloud-3.steamusercontent.com/ugc/1747933191220177818/637923621F747375066D4DA39BEA3BA9C26086A5/",
      "NumHeight": 3,
      "NumWidth": 7,
      "Type": 0,
      "UniqueBack": false
    }
  },
  "Description": "",
  "DragSelectable": true,
  "GMNotes": "{\n  \"id\": \"07271\",\n  \"type\": \"Asset\",\n  \"class\": \"Neutral\",\n  \"cost\": 1,\n  \"level\": 1,\n  \"traits\": \"Pact. Cursed.\",\n  \"permanent\": false,\n  \"weakness\": false,\n  \"intellectIcons\": 1,\n  \"combatIcons\": 1,\n  \"cycle\": \"The Innsmouth Conspiracy\"\n}",
  "GUID": "542a70",
  "Grid": true,
  "GridProjection": false,
  "Hands": true,
  "HideWhenFaceDown": true,
  "IgnoreFoW": false,
  "LayoutGroupSortIndex": 0,
  "Locked": false,
  "LuaScript": "function onload()\r\n    mode = \"Curse\"\r\n    chaosbag = getChaosBag()\r\n    manager = getObjectFromGUID(\"5933fb\")\r\n    sealedTokens = { }\r\n    IMAGE_TOKEN_MAP = { }\r\n    for i,v in pairs(Global.getVar(\"IMAGE_TOKEN_MAP\")) do\r\n        IMAGE_TOKEN_MAP[i] = v\r\n    end\r\n\r\n    -- add menu items\r\n    self.clearContextMenu()\r\n    self.addContextMenuItem(\"Release Token\", releaseTokens, true)\r\n    for url,name in pairs(IMAGE_TOKEN_MAP) do\r\n        if name == mode then\r\n            self.addContextMenuItem(\"Seal \" .. mode, function(playerColor) sealToken(url, playerColor) end, true)\r\n        end\r\n    end\r\nend\r\n\r\nfunction sealToken(url, playerColor)\r\n    local pos = self.getPosition()\r\n\r\n    local name = IMAGE_TOKEN_MAP[url]\r\n    for i,obj in ipairs(chaosbag.getObjects()) do\r\n        if obj.name == name then\r\n            chaosbag.takeObject({\r\n                position={ pos.x, pos.y + 1, pos.z },\r\n                index=i-1,\r\n                smooth=false,\r\n                callback_function=_sealToken\r\n            })\r\n            return\r\n        end\r\n    end\r\n    printToColor(name .. \" token not found in bag\", playerColor)\r\nend\r\n\r\nfunction _sealToken(obj)\r\n    table.insert(sealedTokens, obj)\r\n    local guid = obj.getGUID()\r\n    local tokensTaken = manager.getVar(\"tokensTaken\")\r\n    table.insert(tokensTaken[mode], guid)\r\n    manager.setVar(\"tokensTaken\", tokensTaken)\r\n    manager.setVar(\"mode\", mode)\r\n    printToAll(\"Sealing \" .. mode .. \" token \" .. manager.call(\"getTokenCount\"))\r\nend\r\n\r\nfunction releaseTokens(playerColor)\r\n    if #sealedTokens == 0 then return end\r\n    local token = sealedTokens[#sealedTokens]\r\n    if token ~= nil then\r\n        local guid = token.getGUID()\r\n        chaosbag.putObject(token)\r\n        local tokensTaken = manager.getVar(\"tokensTaken\")\r\n        for i,v in ipairs(tokensTaken[mode]) do\r\n            if v == guid then\r\n                table.remove(tokensTaken[mode], i)\r\n                break\r\n            end\r\n        end\r\n        manager.setVar(\"tokensTaken\", tokensTaken)\r\n        manager.setVar(\"mode\", mode)\r\n        printToAll(\"Releasing \" .. mode .. \" token\" .. manager.call(\"getTokenCount\"))\r\n    end\r\n\r\n    table.remove(sealedTokens)\r\nend\r\n\r\nfunction getChaosBag()\r\n    local items = getObjectFromGUID(\"83ef06\").getObjects()\r\n    local chaosbag = nil\r\n    for i,v in ipairs(items) do\r\n        if v.getDescription() == \"Chaos Bag\" then\r\n            chaosbag = getObjectFromGUID(v.getGUID())\r\n            break\r\n        end\r\n    end\r\n    if chaosbag == nil then printToAll(\"No chaos bag found\") end\r\n    return chaosbag\r\nend\r\n",
  "LuaScriptState": "",
  "LuaScript_path": "FavoroftheMoon1.542a70.ttslua",
  "MeasureMovement": false,
  "Name": "Card",
  "Nickname": "Favor of the Moon (1)",
  "SidewaysCard": false,
  "Snap": true,
  "Sticky": true,
  "Tags": [
    "PlayerCard",
    "Asset"
  ],
  "Tooltip": true,
  "Transform": {
    "posX": 8.99939,
    "posY": 3.831641,
    "posZ": -16.694334,
    "rotX": 0.127900153,
    "rotY": 270.0139,
    "rotZ": 359.9668,
    "scaleX": 1,
    "scaleY": 1,
    "scaleZ": 1
  },
  "Value": 0,
  "XmlUI": ""
}