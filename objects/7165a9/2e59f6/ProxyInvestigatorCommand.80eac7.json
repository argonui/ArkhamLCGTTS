{
  "AltLookAngle": {
    "x": 0,
    "y": 0,
    "z": 0
  },
  "Autoraise": true,
  "ColorDiffuse": {
    "b": 1,
    "g": 1,
    "r": 1
  },
  "Description": "",
  "DragSelectable": true,
  "GMNotes": "",
  "GUID": "80eac7",
  "Grid": true,
  "GridProjection": false,
  "Hands": false,
  "HideWhenFaceDown": false,
  "IgnoreFoW": false,
  "LayoutGroupSortIndex": 0,
  "Locked": false,
  "LuaScript": "---\r\n--- Generated by EmmyLua(https://github.com/EmmyLua)\r\n--- Created by Whimsical.\r\n--- DateTime: 2021-08-25 2:32 p.m.\r\n---\r\n\r\ncommand_name = \"proxy-investigator\"\r\n\r\n---@type ArkhamImport_Command_RunDirectives\r\nrunOn = {\r\n    instructions = true,\r\n    handlers = true\r\n}\r\n\r\n---@param parameters ArkhamImport_Command_DescriptionInstructionArguments\r\n---@return ArkhamImport_Command_DescriptionInstructionResults\r\nfunction do_instruction(parameters)\r\n    local args = parameters.arguments\r\n\r\n    if (#args~=6 and #args~=7) then\r\n        return {\r\n            is_successful = false,\r\n            error_message = \"Proxy Investigator command requires either 7 or 8 arguments. \" .. #args .. \" were provided.\"\r\n        }\r\n    end\r\n\r\n    parameters.command_state[\"proxy-investigator\"] = {\r\n        name = args[1],\r\n        subtitle = args[2],\r\n        front_uri = args[3],\r\n        back_uri = args[4],\r\n        mini_front_uri = args[5],\r\n        mini_back_uri = args[6],\r\n        zone = args[7] or \"investigator\"\r\n    }\r\n\r\n    return {\r\n        command_state = parameters.command_state,\r\n        is_successful = true\r\n    }\r\nend\r\n\r\n---@param source TTSObject\r\n---@param name string\r\n---@param subtitle string\r\n---@param offset number\r\n---@param zone ArkhamImportZone\r\n---@param front string\r\n---@param back string\r\n---@param use_minicard_scaling boolean\r\nlocal function create_card(source, name, subtitle, offset, zone, front, back, use_minicard_scaling)\r\n    local position = zone.is_absolute and zone.position or source:positionToWorld(zone.position)\r\n\r\n    local card = spawnObject {\r\n        type = \"CardCustom\",\r\n        position = position + Vector(0, offset, 0),\r\n        rotation = source:getRotation() + Vector(0, 0, zone.is_facedown and 180 or 0),\r\n        scale = use_minicard_scaling and Vector(0.6, 1, 0.6) or Vector(1,1,1),\r\n        callback_function = function (card) card:setName(name) card:setDescription(subtitle) end\r\n    }\r\n\r\n    card:setCustomObject {\r\n        type = 0,\r\n        face = front,\r\n        back = back\r\n    }\r\nend\r\n\r\n---@param parameters ArkhamImport_Command_HandlerArguments\r\n---@return ArkhamImport_Command_HandlerResults\r\nfunction handle_card(parameters)\r\n    if parameters.card.type_code ~= \"investigator\" then return {is_successful = true } end\r\n\r\n    local card_data = parameters.command_state[\"proxy-investigator\"] or {}\r\n\r\n    if not card_data then return { is_successful = true } end\r\n\r\n    local zone = parameters.configuration.zones[card_data.zone]\r\n\r\n    if not zone then\r\n        return {\r\n            is_successful = false,\r\n            command_state = parameters.command_state,\r\n            error_message = \"Proxy Investigator [\" .. tostring(parameters.card.code) .. \"]: Zone \\\"\" .. tostring(card_data.zone) .. \"\\\" was not found.\"\r\n        }\r\n    end\r\n\r\n    local source = getObjectFromGUID(parameters.source_guid)\r\n\r\n    for _=1, parameters.card.count do\r\n        create_card(source, card_data.name, card_data.subtitle, 10, zone, card_data.front_uri, card_data.back_uri, false)\r\n        create_card(source, card_data.name, card_data.subtitle, 20, zone, card_data.mini_front_uri, card_data.mini_back_uri, true)\r\n    end\r\n\r\n    return { handled = true, is_successful = true}\r\nend",
  "LuaScriptState": "",
  "LuaScript_path": "ProxyInvestigatorCommand.80eac7.ttslua",
  "MeasureMovement": false,
  "Name": "Checker_white",
  "Nickname": "Proxy Investigator Command",
  "Snap": true,
  "Sticky": true,
  "Tags": [
    "import_command"
  ],
  "Tooltip": true,
  "Transform": {
    "posX": -48.1041374,
    "posY": 3.41491437,
    "posZ": -74.74271,
    "rotX": 0.0208894648,
    "rotY": 270.03006,
    "rotZ": 180.0168,
    "scaleX": 0.350000441,
    "scaleY": 0.350000441,
    "scaleZ": 0.350000441
  },
  "Value": 0,
  "XmlUI": ""
}