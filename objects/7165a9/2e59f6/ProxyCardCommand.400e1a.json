{
  "AltLookAngle": {
    "x": 0,
    "y": 0,
    "z": 0
  },
  "Autoraise": true,
  "ColorDiffuse": {
    "b": 1,
    "g": 1,
    "r": 1
  },
  "Description": "",
  "DragSelectable": true,
  "GMNotes": "",
  "GUID": "400e1a",
  "Grid": true,
  "GridProjection": false,
  "Hands": false,
  "HideWhenFaceDown": false,
  "IgnoreFoW": false,
  "LayoutGroupSortIndex": 0,
  "Locked": false,
  "LuaScript": "---\r\n--- Generated by EmmyLua(https://github.com/EmmyLua)\r\n--- Created by Whimsical.\r\n--- DateTime: 2021-08-24 6:11 p.m.\r\n---\r\n\r\ncommand_name = \"proxy-card\"\r\n\r\n---@type ArkhamImport_Command_RunDirectives\r\nrunOn = {\r\n    instructions = true,\r\n    handlers = true\r\n}\r\n\r\nlocal back_image_default = \"https://images-ext-2.discordapp.net/external/QY_dmo_UnAHEi1pgWwaRr1-HSB8AtrAv0W74Mh_Z6vg/https/i.imgur.com/EcbhVuh.jpg\"\r\n\r\n---@param parameters ArkhamImport_Command_DescriptionInstructionArguments\r\n---@return ArkhamImport_Command_DescriptionInstructionResults\r\nfunction do_instruction(parameters)\r\n    local args = parameters.arguments\r\n    if (#args\u003c4 or #args\u003e6) then\r\n        return {\r\n            is_successful = false,\r\n            error_message = \"Move Command requires between 4 or 6 arguments. \" .. #args .. \" were provided.\"\r\n        }\r\n    end\r\n\r\n    if not parameters.command_state[\"proxy-card\"] then\r\n        parameters.command_state[\"proxy-card\"] = {}\r\n        parameters.command_state[\"proxy-card-offset\"] = 0.1\r\n    end\r\n\r\n    parameters.command_state[\"proxy-card\"][args[1]] = {\r\n        name = args[2],\r\n        subtitle = args[3],\r\n        image_uri = args[4],\r\n        zone = args[5] or \"default\",\r\n        back_image_uri = args[6] or back_image_default\r\n    }\r\n\r\n    return {\r\n        command_state = parameters.command_state,\r\n        is_successful = true\r\n    }\r\nend\r\n\r\n---@param parameters ArkhamImport_Command_HandlerArguments\r\n---@return ArkhamImport_Command_HandlerResults\r\nfunction handle_card(parameters)\r\n    local state = parameters.command_state[\"proxy-card\"] or {}\r\n\r\n    local card_data = state[parameters.card.code]\r\n\r\n    if not card_data then return { is_successful = true } end\r\n\r\n    local offset = parameters.command_state[\"proxy-card-offset\"]\r\n    parameters.command_state[\"proxy-card-offset\"] = offset + 0.1\r\n\r\n    local zone = parameters.configuration.zones[card_data.zone]\r\n\r\n    if not zone then\r\n        return {\r\n            is_successful = false,\r\n            error_message = \"Proxy Card [\" .. tostring(parameters.card.code) .. \"]: Zone \\\"\" .. tostring(card_data.zone) .. \"\\\" was not found.\"\r\n        }\r\n    end\r\n\r\n    local source = getObjectFromGUID(parameters.source_guid)\r\n    local position = zone.is_absolute and zone.position or source:positionToWorld(zone.position)\r\n\r\n    for _=1, parameters.card.count do\r\n        local new = spawnObject {\r\n            type = \"CardCustom\",\r\n            position = position + Vector(0, offset, 0),\r\n            rotation = source:getRotation() + Vector(0, 0, zone.is_facedown and 180 or 0),\r\n            ---@param card TTSObject\r\n            callback_function = function (card)\r\n                card:setName(card_data.name)\r\n                card:setDescription(card_data.subtitle)\r\n            end\r\n        }\r\n\r\n        new:setCustomObject {\r\n            type = 0,\r\n            face = card_data.image_uri,\r\n            back = card_data.back_image_uri\r\n        }\r\n    end\r\n\r\n    return { handled = true, is_successful = true }\r\nend",
  "LuaScriptState": "",
  "LuaScript_path": "ProxyCardCommand.400e1a.ttslua",
  "MeasureMovement": false,
  "Name": "Checker_white",
  "Nickname": "Proxy Card Command",
  "Snap": true,
  "Sticky": true,
  "Tags": [
    "import_command"
  ],
  "Tooltip": true,
  "Transform": {
    "posX": -48.1076851,
    "posY": 3.41510534,
    "posZ": -74.0850754,
    "rotX": 0.0208911747,
    "rotY": 270.02713,
    "rotZ": 180.0168,
    "scaleX": 0.350000441,
    "scaleY": 0.350000441,
    "scaleZ": 0.350000441
  },
  "Value": 0,
  "XmlUI": ""
}